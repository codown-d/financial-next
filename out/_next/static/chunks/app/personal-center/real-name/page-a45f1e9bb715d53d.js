(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4444],{45757:function(e,t,l){Promise.resolve().then(l.bind(l,88545))},88545:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return S}});var n=l(5432),a=l(90030),s=l(76149),r=l(71440),i=l(12736),u=l(66499),c=l(679),o=l(76925),d=l(92576),m=l(14017),f=l(19843),x=l(16135),h=l(44178),p=l(45020),v=l(45345),j=l(25087),b=l(20206),g=l(54218),N=l(22194),y=l(51899),_=l(81384),I=l.n(_),w=l(57017);let k=e=>{let{formIns:t,verify_status:l}=e,{area:s}=(0,d.IC)(),[r,i]=(0,w.useState)(t.getFieldValue("idcard_img")?[{uid:"-1",name:"",status:"done",url:t.getFieldValue("idcard_img")}]:void 0);return(0,w.useEffect)(()=>{let e=I()(r,e=>"done"===e.status);if(e&&(null==e?void 0:e.response)){if((null==e?void 0:e.response.code)!=200){x.ZP.error({content:"请上传身份证正面照片"}),t.setFieldsValue({idcard_img:void 0});return}t.setFieldsValue({idcard_img:e.response.file})}},[r]),(0,n.jsx)(h.ZP,{locale:y.Z,children:(0,n.jsxs)(a.lq,{form:t,colon:!1,disabled:3==l,labelCol:{flex:"160px"},layout:"horizontal",children:[(0,n.jsx)(a.Ir,{name:"send_type",hidden:!0,initialValue:"verify",children:(0,n.jsx)(a.eS,{})}),(0,n.jsx)(a.Ir,{label:"姓名",name:"name",rules:[{required:!0}],children:(0,n.jsx)(a.eS,{placeholder:"请输入",size:"large"})}),(0,n.jsx)(a.Ir,{label:"身份证号",name:"idcard",rules:[{required:!0}],children:(0,n.jsx)(a.eS,{placeholder:"请输入",size:"large"})}),(0,n.jsx)(a.Ir,{label:"身份证正面照片",name:"idcard_img",rules:[{required:!0,message:"请上传身份证正面照片"}],children:(0,n.jsx)(p.Z,{maxCount:1,name:"image",action:"/api/upload/image",listType:"picture-card",fileList:r,onChange:e=>{let{fileList:t}=e;i(t.map(e=>{var t;return{...e,url:null==e?void 0:null===(t=e.response)||void 0===t?void 0:t.file}}))},children:(0,n.jsx)(f.Z,{})})}),(0,n.jsx)(a.Ir,{label:"地址",name:"area_id",rules:[{required:!0}],labelCol:{flex:"160px"},children:(0,n.jsx)(v.Z,{options:s,placeholder:"请选择"})}),(0,n.jsx)(a.Ir,{label:" ",name:"address",children:(0,n.jsx)(N.Z,{placeholder:"请输入",size:"large"})}),(0,n.jsx)(a.Ir,{label:"手机号",name:"phone",rules:[{required:!0}],children:(0,n.jsx)(a.eS,{placeholder:"请输入",size:"large",disabled:!0})}),(0,n.jsxs)("div",{className:"flex",children:[(0,n.jsx)(a.Ir,{label:"验证码",name:"verify_phone_code",className:"w-[70%]",rules:[{required:!0}],children:(0,n.jsx)(a.eS,{placeholder:"请输入",size:"large"})}),(0,n.jsx)(a.Ir,{label:" ",className:"flex-1",children:(0,n.jsx)(c.Z,{disabled:3==l,formIns:t,fields:["phone","send_type"]})})]}),(0,n.jsx)(a.Ir,{label:" ",name:"click_protocol",valuePropName:"checked",children:(0,n.jsxs)(j.Z,{children:[" 我已阅读并同意",(0,n.jsx)("span",{className:"text-[#3D5AF5]",onClick:e=>{e.preventDefault(),b.default.info({width:"70%",icon:null,title:"信息授权协议",okText:"确定",content:(0,n.jsx)("div",{children:"123456"}),onOk(){}})},children:"《信息授权协议》"})]})})]})})};function S(){let{userInfo:e}=(0,m.b)(),[t,l]=(0,w.useState)(!1),[a]=g.Z.useForm(),[c,d]=(0,w.useState)(!1);return(0,w.useEffect)(()=>{a.setFieldsValue({phone:null==e?void 0:e.user_name})},[e]),(0,n.jsxs)(r.default,{className:"h-[738px]",children:[(0,n.jsx)("div",{className:"text-[20px] mb-[26px]",children:"实名认证"}),(0,n.jsxs)("div",{className:"relative w-[460px]",children:[(0,n.jsx)(u.default,{className:"mt-6",src:"/images/".concat((null==e?void 0:e.verify_status)!=3?"wsmrz":"smrz",".png"),width:460,height:0}),(0,n.jsx)(s.D,{size:"large",className:"border-0 hover:!text-[#FF9958]  bg-white-500 !absolute !text-[#FF9958] right-[56px] top-[60%]",shape:"round",onClick:()=>{(null==e?void 0:e.verify_status)==3&&a.setFieldsValue({...e.realname}),d(!0)},children:(null==e?void 0:e.verify_status)==3?"查看认证":"立即认证"})]}),(0,n.jsx)(i.Z,{closeIcon:!1,width:620,open:c,title:(0,n.jsx)("div",{className:"text-center font-bold mb-[20px] text-2xl pt-10 text-gray-800  leading-[32px]",children:(null==e?void 0:e.verify_status)==3?"认证信息":"实名认证"}),okButtonProps:{shape:"round",style:{minWidth:"120px"},disabled:(null==e?void 0:e.verify_status)==3||t},cancelButtonProps:{shape:"round",style:{minWidth:"120px"}},footer:(e,t)=>{let{OkBtn:l,CancelBtn:a}=t;return(0,n.jsxs)("div",{className:"flex items-center justify-center mt-[40px] mb-2",children:[(0,n.jsx)(a,{}),(0,n.jsx)("div",{className:"ml-5",children:(0,n.jsx)(l,{})})]})},okText:"提交",onCancel:()=>{d(!1)},onOk:()=>(l(!0),new Promise((e,t)=>{a.validateFields().then(n=>{(0,o.gP)({...n,prov_id:n.area_id[0],city_id:n.area_id[1],area_id:n.area_id[2]}).then(n=>{200==n.code?(e(""),x.ZP.success({content:"认证成功"}),d(!1),a.resetFields(),window.location.reload()):(l(!1),t())})}).catch(()=>{l(!1)})})),children:(0,n.jsx)("div",{className:"pr-[40px]",children:(0,n.jsx)(k,{formIns:a,verify_status:null==e?void 0:e.verify_status})})})]})}},71440:function(e,t,l){"use strict";l.d(t,{default:function(){return r}});var n=l(5432),a=l(63732),s=l(57017);function r(e){let t=(0,s.useMemo)(()=>({...e,className:"tz-card ".concat(e.className)}),[e]);return(0,n.jsx)(a.Z,{...t})}},90426:function(e,t,l){"use strict";l.d(t,{I:function(){return i},Z:function(){return r}});var n=l(5432),a=l(54218),s=l(57017);function r(e){let t=(0,s.useMemo)(()=>({...e,className:"tz-form ".concat(e.className||"")}),[e]);return(0,n.jsx)(a.Z,{labelAlign:"left",...t})}r.Item=e=>{let t=(0,s.useMemo)(()=>({...e,className:"tz-form-item ".concat(e.className||"")}),[e]);return(0,n.jsx)(a.Z.Item,{...t})};let i=r.Item},19348:function(e,t,l){"use strict";var n=l(5432),a=l(52674),s=l(57017);t.Z=(0,s.forwardRef)(function(e,t){let l=(0,s.useMemo)(()=>({...e,className:"tz-input ".concat(e.className||"")}),[e]);return(0,n.jsx)(a.default,{...l,ref:t})})},12736:function(e,t,l){"use strict";l.d(t,{N:function(){return u},Z:function(){return r}});var n=l(5432),a=l(20206),s=l(57017);function r(e){let t=(0,s.useMemo)(()=>({...e,className:"tz-modal ".concat(e.className||"")}),[e]);return(0,n.jsx)(a.default,{...t})}let{confirm:i}=a.default,u=e=>{i(Object.assign({width:620,icon:null,footer:(e,t)=>{let{OkBtn:l,CancelBtn:a}=t;return(0,n.jsxs)("div",{className:"flex items-center justify-center mt-[20px] mb-2",children:[(0,n.jsx)(a,{}),(0,n.jsx)("div",{className:"ml-5",children:(0,n.jsx)(l,{})})]})},okButtonProps:{shape:"round",style:{width:"126px",paddingTop:7,paddingBottom:7,height:36}},cancelButtonProps:{shape:"round",style:{width:"126px",paddingTop:7,paddingBottom:7,height:36}}},e))}},66499:function(e,t,l){"use strict";l.d(t,{default:function(){return r}});var n=l(5432),a=l(57017),s=l(45597);function r(e){let t=(0,a.useMemo)(()=>({...e,alt:e.alt||"tz-image",className:"tz-image inline-block ".concat(e.className)}),[e]);return e.src?(0,n.jsx)(s.default,{width:500,height:0,...t,src:e.src}):null}},679:function(e,t,l){"use strict";l.d(t,{Z:function(){return u}});var n=l(5432),a=l(76149),s=l(92576),r=l(16135),i=l(57017);function u(e){let{formIns:t,fields:l,classNames:u,...c}=e,[o,d]=(0,i.useState)(0),[m,f]=(0,i.useState)(!1);(0,i.useEffect)(()=>{let e;return o>0?e=setInterval(()=>{d(e=>e-1)},1e3):0===o&&f(!1),()=>clearInterval(e)},[o]);let{getPhoneCode:x,token:h}=(0,s.ZI)();(0,i.useEffect)(()=>{t.setFieldsValue({token:h})},[h]);let p=(0,i.useCallback)(()=>{t.validateFields(l).then(e=>{x(e).then(e=>{200==e.code&&(r.ZP.success(e.desc),f(!0),d(60))})})},[t]);return(0,n.jsx)(a.D,{size:"large",className:" ml-3 ".concat(u),style:{width:"calc(100% - 12px)"},type:"primary",disabled:m,onClick:p,...c,children:m?"".concat(o,"秒后可以重发"):"发送验证"})}},90030:function(e,t,l){"use strict";l.d(t,{Ir:function(){return n.I},eS:function(){return a.Z},lq:function(){return n.Z}});var n=l(90426),a=l(19348)},14017:function(e,t,l){"use strict";l.d(t,{GlobalProvider:function(){return i},b:function(){return u}});var n=l(5432),a=l(76925),s=l(57017);let r=(0,s.createContext)(void 0);function i(e){let{children:t}=e,[l,i]=(0,s.useState)(),[u,c]=(0,s.useState)();return(0,s.useEffect)(()=>{(0,a.bG)().then(e=>{i(e.data),c(e.finance_apply),window.localStorage.setItem("userInfo",JSON.stringify(e.data))})},[]),(0,n.jsx)(r.Provider,{value:{userInfo:l,setUserInfo:i,financeApply:u},children:t})}function u(){let e=(0,s.useContext)(r);if(!e)throw Error("useGlobalContext must be used within a GlobalProvider");return e}},92576:function(e,t,l){"use strict";l.d(t,{zh:function(){return p},V5:function(){return v},IC:function(){return g},tg:function(){return j},Tg:function(){return N},ZI:function(){return b},Cl:function(){return x},LS:function(){return h},aB:function(){return f}});var n=l(5432),a=l(12736);function s(){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"text-2xl font-bold mb-4 flex justify-center mb-10",children:"业务申请"}),(0,n.jsxs)("div",{className:"flex justify-between items-center px-[46px]",children:[(0,n.jsxs)("div",{className:"",children:[(0,n.jsx)("div",{className:"mb-8 text-[20px] leading-[20px]",children:"请您联系："}),(0,n.jsx)("div",{className:"text-[#3D5AF5] text-[20px] font-bold ",children:"0839-3271399"}),(0,n.jsx)("div",{className:"text-[#999]",children:"工作日：09:00-18:00 在线"})]}),!1]})]})}var r=l(49138),i=l(76925),u=l(67284),c=l(68426),o=l(93023),d=l.n(o),m=l(57017);let f=e=>{let[t,l]=(0,m.useState)(!1),n=(0,m.useCallback)(t=>{var l;null==e||null===(l=e.callback)||void 0===l||l.call(e,t)},[]);return(0,m.useEffect)(()=>{let e=document.querySelector("body");new ResizeObserver(e=>{for(let t of e)t.contentRect.width<560?l(!0):l(!1),n(t.contentRect.width)}).observe(e)},[]),{isMobile:t}},x=e=>{let{productType:t,rate:l,amount:a,term:s,rateDown:i,rateUp:c}=e;return(0,m.useMemo)(()=>{var i;let c=null===(i=r.mn[e.term_unit])||void 0===i?void 0:i.text;return t===u.p2.ElectronicGuarantee?[{label:(0,n.jsxs)("span",{className:"text-[#333]",children:["收费标准",(0,n.jsx)("span",{className:"font-normal text-xs text-gray-400 leading-3 ml-6",children:"以审批结果为准"})]}),value:"".concat(l),p:"%"}]:t===u.p2.EquityFinancing?[{label:(0,n.jsx)("span",{className:"text-[#333]",children:"最低利率"}),value:(0,n.jsxs)("span",{className:"text-[20px]",children:[(0,n.jsx)("span",{className:"text-[40px]",children:l}),"%"]})}]:t===u.p2.EmergencyRefinancing?[]:t===u.p2.Insurance?[{label:"保额",value:a,p:"万元"},{label:"期限",value:"1-".concat(s),p:c}]:[{label:"最高额度",value:a,p:"万元"},{label:"最低费率",value:l,p:"%"},{label:"期限",value:"1-".concat(s),p:c}]},[e])},h=e=>({repaymentMethodLabel:(0,m.useMemo)(()=>r.Xc.reduce((t,l)=>{var n;return(null==e?void 0:null===(n=e.repayment_method)||void 0===n?void 0:n.includes(l.value))&&t.push(l.label),t},[]).join("/"),[null==e?void 0:e.repayment_method])}),p=e=>({dataTypeLabel:(0,m.useMemo)(()=>u.p2.Insurance===(null==e?void 0:e.productType)?d()(r.V$).map(e=>({label:r.V$[e].text,value:e+""})).reduce((t,l)=>{var n,a;return(null==e?void 0:null===(n=e.dataType)||void 0===n?void 0:n.includes(l.value+""))&&(null==t||null===(a=t.push)||void 0===a||a.call(t,l.label)),t},[]).join("/"):r.FV.reduce((t,l)=>{var n,a;return(null==e?void 0:null===(n=e.dataType)||void 0===n?void 0:n.includes(l.value))&&(null==t||null===(a=t.push)||void 0===a||a.call(t,l.label)),t},[]).join("/"),[null==e?void 0:e.dataType])}),v=()=>({getFundModal:(0,m.useCallback)(()=>{(0,a.N)({footer:(e,t)=>{let{OkBtn:l,CancelBtn:a}=t;return(0,n.jsx)("div",{className:"flex items-center justify-center mt-[20px] mb-2",children:(0,n.jsx)(a,{})})},cancelText:"关闭",content:(0,n.jsx)(s,{})})},[])}),j=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"user_login",[t,l]=(0,m.useState)(""),[n,a]=(0,m.useState)("");return{getImgCode:(0,m.useCallback)(async()=>{if(!localStorage.getItem("uniqueToken")){let{token:e}=await (0,i.dz)();a(e),localStorage.setItem("uniqueToken",e)}(0,i.BA)({send_type:e}).then(e=>{l(e.img)})},[]),imgCode:t,token:n}},b=()=>{let[e,t]=(0,m.useState)("");return{getPhoneCode:(0,m.useCallback)(e=>new Promise(async(l,n)=>{if(!localStorage.getItem("uniqueToken")){let{token:e}=await (0,i.dz)();t(e),localStorage.setItem("uniqueToken",e)}let a=await (0,i.wt)({...e});if(200!=a.code){n();return}l(a)}),[]),token:e}},g=()=>{let[e,t]=(0,m.useState)(null),l=(0,m.useCallback)(async()=>{let e=await (0,i.bg)();200==e.code&&t(e.data)},[]);return(0,m.useEffect)(()=>{l()},[l]),{area:e}},N=e=>{let[t,l]=(0,m.useState)(),n=(0,m.useCallback)(async()=>{(0,i.Z$)(e).then(e=>{(null==e?void 0:e.data)&&l((0,c.lA)(e.data))})},[e.id]);return(0,m.useEffect)(()=>{n()},[n]),{dataInfo:t}}}},function(e){e.O(0,[1180,4594,2529,669,4327,6171,330,5597,206,1248,3732,9495,761,4218,1868,1276,5087,1655,6773,9760,2555,7302,1744],function(){return e(e.s=45757)}),_N_E=e.O()}]);