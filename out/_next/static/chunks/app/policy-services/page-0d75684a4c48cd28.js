(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6383],{26074:function(e,t,a){Promise.resolve().then(a.bind(a,34497))},34497:function(e,t,a){"use strict";a.d(t,{default:function(){return D}});var s=a(5432),l=a(45597),n=a(71440),r=a(69902),c=a(80817),i=a(31556),u=a(42191),o=a(57017),d=a(80105),x=a(40231),m=a(76149),f=a(98556),p=a(68426);function h(e){let{title:t,summary:a,add_time:l,id:n,rowguid:r}=e,c=(0,x.useRouter)();return(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-medium text-[20px] mb-5 text-[#333333] leading-[20px] cursor-pointer",onClick:()=>{c.push("/policy-detail?policyId=".concat(n))},children:t}),(0,s.jsx)("div",{className:"text-[#999] text-xs mb-5",children:a}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{children:(0,p.i$)(l)}),(0,s.jsx)(m.D,{type:"link",size:"small",className:"!text-[#3D5AF5]",icon:(0,s.jsx)(f.default,{className:"fa-chevron-right text-[#3D5AF5] text-sm"}),iconPosition:"end",onClick:()=>{c.push("/policy-detail?policyId=".concat(n))},children:"查看详情"})]})]})}var j=a(76925),v=a(74269),N=a(4932),g=a(67284),b=a(49138),y=a(93023),w=a.n(y);function S(e){let[t,a]=(0,o.useState)({}),[l,r]=(0,o.useState)(e.area_type),c=()=>{(0,j.Db)().then(e=>{let t=e.data;a({all:t.all,...t.area_type_count})})};(0,o.useEffect)(()=>{c()},[]);let i=["all","1","2","3"];return(0,s.jsxs)(n.default,{styles:{body:{padding:0}},children:[(0,s.jsx)("div",{className:"pl-[20px] bg-gradient-to-l from-[#7B9DF1] to-[#3C5BF6] rounded-[14px] text-[14px] text-[#fff] flex h-[44px] leading-[44px] ",children:(0,s.jsx)("span",{className:"before:content-[''] before:absolute before:bg-white-500 before:rounded-[2px] before:w-[4px] before:h-[14px] before:top-[50%] before:mt-[-7px] before:left-0 relative pl-[10px]",children:"政策层级"})}),(0,s.jsxs)("div",{children:[i.map((a,n)=>(0,s.jsxs)("div",{className:"flex justify-between ml-[32px] mr-[14px] leading-[44px] hover:text-[#3D5AF5] cursor-pointer ".concat(l===a?"text-[#3D5AF5]":""),onClick:()=>{e.onChange(a),r(a)},children:[(0,s.jsx)("span",{className:"font-bold",children:b.AI[a].text})," ",(0,s.jsxs)("span",{children:["(",t[a],")"]})]},n)),(0,s.jsx)("div",{className:"flex justify-between ml-[32px] mr-[14px] leading-[44px] font-bold",children:"县级"}),(0,s.jsx)("div",{className:"mb-5",children:w()(b.AI).filter(e=>!i.includes(e+"")).map((a,n)=>(0,s.jsxs)("div",{className:"flex justify-between ml-[32px] mr-[14px] leading-[44px] hover:text-[#3D5AF5] cursor-pointer ".concat(l===a?"text-[#3D5AF5]":""),onClick:()=>{e.onChange(a),r(a)},children:[(0,s.jsx)("span",{className:"pl-[20px] border-l-[2px] border-[#eee]",children:b.AI[a].text})," ",(0,s.jsxs)("span",{children:["(",t[a],")"]})]},n))})]})]})}var C=a(90030),Z=a(54218),z=a(70982),k=a.n(z),_=a(99949),A=a(49554),F=a.n(A);let I=()=>{let e=k()().year(),t=[];for(let a=0;a<5;a++)t.push(e-a);return t};function D(){let e=(0,x.useSearchParams)().get("query"),[t,a]=(0,o.useState)(0),f=JSON.parse(e||"{}"),[p,b]=(0,o.useState)(f),[y]=(0,o.useState)({defaultCurrent:f.page||1,defaultPageSize:f.limit||10}),w=(0,o.useCallback)(async e=>{let{current:t=1,pageSize:s=10}=e,l={...p,page:t,limit:s,area_type:(null==p?void 0:p.area_type)=="all"?0:p.area_type};O.push("/policy-services?query=".concat(JSON.stringify(l)));let n=await (0,j.G$)(l);return a(n.count),{data:n.dataList,total:n.count}},[p]),z=[{title:"标题",dataIndex:"title",render:(e,t)=>(0,s.jsx)(h,{...t})}];(0,o.useEffect)(()=>{B()},[]);let[k,A]=(0,o.useState)([]),[D,M]=(0,o.useState)([]),[E,G]=(0,o.useState)([]),[P]=Z.Z.useForm(),B=()=>{(0,j.Oz)().then(e=>{A(e.feature.map(e=>({label:e.name,value:e.id}))),M(e.theme.map(e=>({label:e.name,value:e.id}))),G(e.hot.map(e=>e.name))})},O=(0,x.useRouter)(),T=(0,o.useMemo)(()=>{let e=I().map((e,t)=>({label:4===t?e+"年以前":e+"年",value:e}));return(0,s.jsxs)(C.lq,{form:P,initialValues:F()({theme_id:0,feature_id:0,start:0},f),onValuesChange:(e,t)=>{b(t=>F()({},t,e,{page:1}))},children:[(0,s.jsx)(C.Ir,{label:"按主题",name:"theme_id",style:{marginBottom:"12px"},children:(0,s.jsx)(i.TY,{items:[{label:"全部",value:0},...D]})}),(0,s.jsx)(u.Z,{}),(0,s.jsx)(C.Ir,{label:"按特色",name:"feature_id",style:{marginBottom:"12px"},children:(0,s.jsx)(i.TY,{items:[{label:"全部",value:0},...k]})}),(0,s.jsx)(u.Z,{}),(0,s.jsx)(C.Ir,{label:"按时间",name:"start",style:{marginBottom:0},children:(0,s.jsx)(i.TY,{items:[{label:"全部",value:0},...e]})})]})},[k,D]);return(0,s.jsx)(v.n,{children:(0,s.jsxs)("div",{className:"relative bg-[#F8F8F8] overflow-hidden",children:[(0,s.jsxs)("div",{className:"h-[320px] relative flex justify-center",children:[(0,s.jsx)(l.default,{src:"/images/zc-banner.png",alt:"",fill:!0,style:{objectFit:"cover"},priority:!0}),(0,s.jsxs)("div",{className:"mt-[60px] flex flex-col items-center z-10",children:[(0,s.jsx)(l.default,{src:"/images/zcfw-title.png",alt:"",height:108,width:240,className:"mb-[56px]"}),(0,s.jsx)(N.Z,{placeholder:"请输入你想要搜索的内容",allowClear:!0,value:p.keyword,className:"!w-[560px] p-1",enterButton:"搜索",size:"large",onSearch:e=>{b(t=>({...t,keyword:e}))}}),(0,s.jsx)("div",{className:"mt-2 flex items-start w-full pl-3",children:E.map((e,t)=>(0,s.jsx)("span",{className:"mr-6 text-white-500 text-sm cursor-pointer",onClick:()=>{b(t=>({...t,keyword:e}))},children:e},t))})]})]}),(0,s.jsxs)("div",{className:"max-w-screen-lg  mx-auto overflow-hidden flex",children:[(0,s.jsx)("div",{className:"w-[260px] pr-[20px] mt-3",children:(0,s.jsx)(S,{area_type:null==p?void 0:p.area_type,onChange:e=>{b(t=>({...t,area_type:e}))}})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)(n.default,{className:"!mt-3",children:T}),(0,s.jsx)(r.Z,{className:"mb-3 pl-[10px] !py-[14px] mt-3",left:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsxs)("div",{className:" ml-3 mr-10 text-[#999]",children:["共"," ",(0,s.jsx)("span",{className:"text-[#3C5BF6] font-bold",children:t})," ","条结果"]}),(0,s.jsx)(m.D,{icon:(0,s.jsx)(_.Z,{}),className:"!px-[12px]",onClick:()=>{window.location.href="/policy-services"},children:"重置选项"})]}),right:(0,s.jsx)("div",{className:"flex items-center",children:(0,s.jsx)(c.Z,{label:"发布时间",className:"font-medium",onChange:e=>{b(t=>({...t,add_time_sort:e==g.yG.Asc?g.yG.Asc:g.yG.Desc}))}})})}),(0,s.jsx)(n.default,{className:" !mt-3 !mb-[96px]",style:{boxShadow:"0px 4px 16px 0px rgba(0,0,0,0.04)"},children:(0,s.jsx)(d.U,{columns:z,rowKey:"id",showHeader:!1,reqFun:w,defaultPagination:y})})]})]})]})})}},71440:function(e,t,a){"use strict";a.d(t,{default:function(){return r}});var s=a(5432),l=a(63732),n=a(57017);function r(e){let t=(0,n.useMemo)(()=>({...e,className:"tz-card ".concat(e.className)}),[e]);return(0,s.jsx)(l.Z,{...t})}},31556:function(e,t,a){"use strict";a.d(t,{TY:function(){return d},ZP:function(){return u}});var s=a(5432),l=a(40580),n=a(50757),r=a(69328),c=a.n(r),i=a(57017);function u(e){let t=(0,i.useMemo)(()=>({...e,className:"tz-tag ".concat(e.className||"")}),[e]);return(0,s.jsx)(l.Z,{...t})}u.CheckableTag=e=>{let t=(0,i.useMemo)(()=>({...e,className:"tz-checkable-tag ".concat(e.className||"")}),[e]);return(0,s.jsx)(n.Z,{...t})};let o=u.CheckableTag,d=e=>{let{items:t,onChange:a,defaultChecked:l,value:n,multiple:r=!1,...u}=e,[d,x]=(0,i.useState)(l||n),m=(e,t)=>{x(a=>t?r?[...a,e]:e:r?null==a?void 0:a.filter(t=>t!==e):void 0)};(0,i.useLayoutEffect)(()=>{null==a||a(d)},[d]);let f=(0,i.useCallback)(e=>c()(d)&&(null==d?void 0:d.includes(e))||d===e,[r,d]);return(0,i.useEffect)(()=>{x(e.value)},[e.value]),(0,s.jsx)(s.Fragment,{children:t.map(e=>(0,s.jsx)(o,{checked:f(e.value),...u,onChange:t=>m(e.value,t),children:e.label},e.value))})}},42191:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});var s=a(5432),l=a(28364),n=a(57017);function r(e){let t=(0,n.useMemo)(()=>({...e,className:"tz-divider !my-3 ".concat(e.className)}),[e]);return(0,s.jsx)(l.Z,{...t})}},90426:function(e,t,a){"use strict";a.d(t,{I:function(){return c},Z:function(){return r}});var s=a(5432),l=a(54218),n=a(57017);function r(e){let t=(0,n.useMemo)(()=>({...e,className:"tz-form ".concat(e.className||"")}),[e]);return(0,s.jsx)(l.Z,{labelAlign:"left",...t})}r.Item=e=>{let t=(0,n.useMemo)(()=>({...e,className:"tz-form-item ".concat(e.className||"")}),[e]);return(0,s.jsx)(l.Z.Item,{...t})};let c=r.Item},98556:function(e,t,a){"use strict";a.d(t,{default:function(){return n}});var s=a(5432),l=a(57017);function n(e){let t=(0,l.useMemo)(()=>({...e,className:"tz-icon fa-solid ".concat(e.className)}),[e]);return(0,s.jsx)("i",{...t})}},19348:function(e,t,a){"use strict";var s=a(5432),l=a(52674),n=a(57017);t.Z=(0,n.forwardRef)(function(e,t){let a=(0,n.useMemo)(()=>({...e,className:"tz-input ".concat(e.className||"")}),[e]);return(0,s.jsx)(l.default,{...a,ref:t})})},4932:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});var s=a(5432),l=a(57017);let{Search:n}=a(52674).default;function r(e){let t=(0,l.useMemo)(()=>({...e,className:"tz-search ".concat(e.className)}),[e]);return(0,s.jsx)(n,{...t})}},80105:function(e,t,a){"use strict";a.d(t,{U:function(){return o},Z:function(){return i}});var s=a(5432),l=a(76331),n=a(49554),r=a.n(n),c=a(57017);function i(e){let t=(0,c.useMemo)(()=>({...e,className:"tz-table ".concat(e.className)}),[e]);return(0,s.jsx)(l.Z,{...t})}let u={current:1,defaultCurrent:1,defaultPageSize:10,pageSize:10,showSizeChanger:!0,pageSizeOptions:[10,20,50,100]},o=(0,c.forwardRef)((e,t)=>{let{reqFun:a,defaultPagination:l,initialData:n,...o}=e,d=r()({},u,l,{current:l.defaultCurrent,pageSize:l.defaultPageSize}),[x,m]=(0,c.useState)(n),[f,p]=(0,c.useState)(d),[h,j]=(0,c.useState)([]),[v,N]=(0,c.useState)([]),[g,b]=(0,c.useState)(!0),y=(0,c.useCallback)(async(e,t,s,l)=>{b(!0);let n=await a(e,t,s,l);m(n.data),p(e=>r()({},e,{total:n.total})),b(!1)},[a]);return(0,c.useEffect)(()=>{p(e=>({...e,current:1}))},[a]),(0,c.useEffect)(()=>{y({...f})},[y,JSON.stringify(f)]),(0,c.useImperativeHandle)(t,()=>({refresh(){p(e=>({...e,current:1})),setTimeout(()=>{y(f)},0)}}),[]),(0,s.jsx)(i,{loading:g,dataSource:x,pagination:f,...o,onChange:(e,t,a,s)=>{p(e),j(t),N(a),y(e,t,a,s)}})})},69902:function(e,t,a){"use strict";a.d(t,{Z:function(){return l}});var s=a(5432);function l(e){let{className:t="",left:a,right:l}=e;return(0,s.jsx)("div",{className:"rounded-2xl bg-white-500 py-5 px-[30px] ".concat(t," "),children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("div",{children:a}),(0,s.jsx)("div",{children:l})]})})}},80817:function(e,t,a){"use strict";a.d(t,{Z:function(){return c}});var s=a(5432),l=a(67284),n=a(45597),r=a(57017);function c(e){let{label:t,className:a}=e,[c,i]=(0,r.useState)(e.value||e.defaultValue||l.yG.All),u=(0,r.useMemo)(()=>"/images/".concat({asc:"sort-asc.png",desc:"sort-desc.png",all:"sort.png"}[c]),[c]);return(0,r.useEffect)(()=>{i(e.value)},[e.value]),(0,s.jsxs)("div",{className:"flex items-center cursor-pointer ".concat(a),onClick:()=>{var t;let a=c===l.yG.All?l.yG.Desc:c===l.yG.Desc?l.yG.Asc:l.yG.All;i(a),null===(t=e.onChange)||void 0===t||t.call(e,a)},children:[t," ",(0,s.jsx)("div",{className:"ml-[6px]",children:(0,s.jsx)(n.default,{src:u,alt:"",width:16,height:0})})]})}},90030:function(e,t,a){"use strict";a.d(t,{Ir:function(){return s.I},eS:function(){return l.Z},lq:function(){return s.Z}});var s=a(90426),l=a(19348)}},function(e){e.O(0,[1180,4594,2529,669,4327,6171,330,5597,1248,3732,9495,761,4218,1868,6856,5087,5944,4364,6331,7809,9760,2555,7302,1744],function(){return e(e.s=26074)}),_N_E=e.O()}]);